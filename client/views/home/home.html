<template name="Home">
	<div class="container">
		Useful Home Page
		{{#form item=item}}
			<form class="form-horizontal form-simple">
				<legend>Simple Form</legend>
				<div>This form uses plain html markup and custom events</div>
				<div class="form-group">
					<label class="col-sm-4">Name</label>
					<div class="col-sm-8">
						<input type="text" name="name" value="{{val 'name'}}" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-4"></label>
					<div class="col-sm-8">
						<button type="button" class="btn btn-success btn-iamjoe">I am Joe</button>
						<button type="submit" class="btn btn-primary">Done</button>
					</div>
				</div>
			</form>
		{{/form}}
		{{#form item=item}}
			<form class="form-horizontal form-basic">
				<legend>Basic Form</legend>
				<div>This uses the built in change and submit events</div>
				<div class="form-group">
					<label class="col-sm-4">Name</label>
					<div class="col-sm-8">
						<input type="text" name="name" value="{{val 'name'}}" class="form-control">
						{{#if val 'errors' 'name'}}
							<span class="help-block">
								Name is invalid
							</span>
						{{/if}}
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-4"></label>
					<div class="col-sm-8">
						<button type="button" class="btn btn-success btn-iamjoe">I am Joe</button>
						<button type="submit" class="btn btn-primary">Done</button>
					</div>
				</div>
			</form>
		{{/form}}
		{{#form 
			item=item 
			schema=schema
			title="Generated Form" 
			subtitle="This form does it all, it is generated by schema, uses input templates, and includes custom components and generated fields."
			formClass="form-complex"
			onSubmit=onSubmit
		}}
			{{#autoForm}}
				{{#inputGroup withField name="children"}}
					{{#each item.children}}
						{{#with withField .. 'child' .}}
							<div class="radio">
								<input type="radio" name="child" value="{{child.name}}"> {{child.name}}
							</div>
						{{/with}}
					{{/each}}
				{{/inputGroup}}
			{{/autoForm}}
		{{/form}}
	</div>
</template>

<template name="autoForm">
	<form class="form-horizontal {{formClass}}">
		<legend>{{title}}</legend>
		<div>{{subtitle}}</div>

		{{#if UI.contentBlock}}
			{{> UI.contentBlock this}}
		{{/if}}

		{{#each schemaFields}}
			{{> inputGroup withField .. .}}
		{{/each}}

		{{> submitButton}}
	</form>
</template>

<template name="inputGroup">
	<div class="form-group {{groupClass}}">
		<label class="control-label col-sm-4">{{inputLabel}}</label>
		<div class="col-sm-8">
			{{#if UI.contentBlock}}
				{{> UI.contentBlock}}
			{{else}}
				<input type="{{inputType}}" name="{{field.name}}" value="{{val field.name}}" class="{{controlClass}}">
			{{/if}}
			{{#each val 'errors' field.name}}
				<span class="help-block">{{this}}</span>
			{{/each}}
		</div>
	</div>
</template>

<template name="submitButton">
	<div class="form-group">
		{{#unless hideCancel}}
			<button type="button" class="btn btn-danger btn-cancel">Cancel</button>
		{{/unless}}
		
		<button type="submit" class="btn btn-primary btn-submit">Save</button>
	</div>
</template>